(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){e.exports=n(29)},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(19),c=n.n(l),o=(n(18),n(3)),u=r.a.createContext();function i(e){var t=e.children,n=Object(a.useState)(null),l=Object(o.a)(n,2),c=l[0],i=l[1],s=Object(a.useState)([]),m=Object(o.a)(s,2),d=m[0],E=m[1];Object(a.useEffect)(function(){fetch("/me").then(function(e){e.ok&&e.json().then(function(e){return i(e)})})},[]),Object(a.useEffect)(function(){fetch("/dinosaurs").then(function(e){return e.json()}).then(E)},[]);var f=Object(a.useState)([]),p=Object(o.a)(f,2),b=p[0],g=p[1],h=Object(a.useState)([]),v=Object(o.a)(h,2),j=v[0],O=v[1];Object(a.useEffect)(function(){fetch("/regions").then(function(e){return e.json()}).then(g)},[]),Object(a.useEffect)(function(){fetch("/periods").then(function(e){return e.json()}).then(O)},[]);var y=Object(a.useState)([]),N=Object(o.a)(y,2),C=N[0],S=N[1];return Object(a.useEffect)(function(){fetch("/collections").then(function(e){return e.json()}).then(S)},[]),r.a.createElement(u.Provider,{value:{user:c,setUser:i,dinosaurs:d,setDinosaurs:E,regions:b,setRegions:g,periods:j,setPeriods:O,stats:C,setStats:S}},t)}var s=n(1),m=n(4),d=n(7),E=n(5);var f=function(e){var t=e.dinosaur,n=e.onUpdate,l=Object(a.useState)(""),c=Object(o.a)(l,2),u=c[0],i=c[1],s=Object(E.a)(t.facts),m=Object(a.useState)(null),f=Object(o.a)(m,2),p=f[0],b=f[1];return r.a.createElement("div",null,p?p.map(function(e){return r.a.createElement("p",{className:"error",key:e},e)}):null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/facts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({interesting_fact:u,dinosaur_id:t.id})}).then(function(e){e.ok?e.json().then(function(e){n(Object(d.a)({},t,{facts:[].concat(Object(E.a)(s),[e])})),console.log(s,[].concat(Object(E.a)(s),[e]))}):e.json().then(function(e){return b(e.errors)})})}},r.a.createElement("label",null,"Enter a fact about this dinosaur"),r.a.createElement("input",{type:"text",className:"fact",value:u,onChange:function(e){return i(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Submit Fact")))};var p=function(e){var t=e.dino,n=e.setDisplayEdit,l=Object(a.useContext)(u),c=l.regions,i=l.periods,s=l.dinosaurs,E=l.setDinosaurs,p=Object(a.useState)(null),b=Object(o.a)(p,2),g=b[0],h=b[1],v=c.map(function(e){return r.a.createElement("option",{key:e.id,className:"region",value:e.name},e.name)}),j=i.map(function(e){return r.a.createElement("option",{key:e.id,name:"period",className:"period",value:e.name},e.name)}),O=["Carnivore","Herbivore","Omnivore"].map(function(e){return r.a.createElement("option",{key:e,name:"diet",className:"dietary-habits",value:e},e)}),y=t.id,N=t.image_url,C=t.region,S=t.period,k=t.diet,w=Object(a.useState)({image_url:N,region:C,period:S,diet:k}),_=Object(o.a)(w,2),D=_[0],F=_[1];function L(e){console.log(e.target.name,": ",e.target.value),F(Object(d.a)({},D,Object(m.a)({},e.target.name,e.target.value)))}function P(e){var t=s.map(function(t){return t.id===e.id?e:t});E(t)}return r.a.createElement("div",null,r.a.createElement(f,{dinosaur:t,onUpdate:P}),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(D),fetch("/dinosaurs/".concat(y),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)}).then(function(e){e.ok?e.json().then(function(e){F(e),P(e),n(!1)}):e.json().then(function(e){return h(e.errors)})})}},g?g.map(function(e){return r.a.createElement("p",{className:"error",key:e},e)}):null,r.a.createElement("label",{htmlFor:"image",name:"image_url",className:"region"},"Enter an image URL"),r.a.createElement("input",{className:"image",type:"text",name:"image_url",value:void 0,onChange:L}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"region",name:"region",className:"region"},"Choose a geographic region"),r.a.createElement("select",{onChange:L,name:"region"},r.a.createElement("option",{className:"region",value:""}),v),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"period",name:"period",className:"period"},"Choose a time period"),r.a.createElement("select",{name:"period",onChange:L},r.a.createElement("option",{className:"period",value:""}),j),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"diet",name:"diet",className:"diet"},"Choose a dietary habit"),r.a.createElement("select",{name:"diet",onChange:L},r.a.createElement("option",{className:"diet",value:""}),O),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null)))};var b=function(e){var t=e.thisFact,n=e.dinosaur,l=e.onUpdate,c=e.setDisplayEdit,u=Object(a.useState)(t.interesting_fact),i=Object(o.a)(u,2),s=i[0],m=i[1],f=Object(E.a)(n.facts),p=Object(a.useState)(null),b=Object(o.a)(p,2),g=b[0],h=b[1];return r.a.createElement("div",null,g?g.map(function(e){return r.a.createElement("p",{className:"error",key:e},e)}):null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/facts/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({interesting_fact:s,dinosaur_id:n.id})}).then(function(e){e.ok?e.json().then(function(e){var t=f.map(function(t){return t.id===e.id?e:t});l(Object(d.a)({},n,{facts:Object(E.a)(t)})),c(!1)}):e.json().then(function(e){return h(e.errors)})})}},r.a.createElement("input",{type:"text",className:"fact",value:s,onChange:function(e){return m(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Submit")))};var g=function(e){var t=e.fact,n=e.dino,l=Object(a.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],m=Object(a.useState)(!1),f=Object(o.a)(m,2),p=f[0],g=f[1],h=Object(a.useContext)(u),v=h.dinosaurs,j=h.setDinosaurs;function O(e){var t=v.map(function(t){return t.id===e.id?e:t});j(t)}return r.a.createElement("div",null,r.a.createElement("div",{className:"fact-form"},i?r.a.createElement(b,{thisFact:t,dinosaur:n,onUpdate:O,setDisplayEdit:s}):r.a.createElement("p",{onClick:function(){return g(!p)}},t.interesting_fact)),p?r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return s(!i)}},i?" hide edit":"edit"),r.a.createElement("button",{onClick:function(){return function(){fetch("/facts/".concat(t.id),{method:"DELETE"});var e=n.facts.filter(function(e){return e.id!==t.id});O(Object(d.a)({},n,{facts:Object(E.a)(e)}))}()}},"X")):null)};var h=function(e){var t=e.dino,n=t.name,l=t.description,c=t.image_url,u=t.region,i=t.period,s=t.diet,m=t.facts.map(function(e){return r.a.createElement(g,{key:e.id,fact:e,dino:t})}),d=Object(a.useState)(!1),E=Object(o.a)(d,2),f=E[0],b=E[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),j=v[0],O=v[1];return r.a.createElement("div",{className:f?"profile-expanded":"profile"},r.a.createElement("button",{onClick:function(){return b(!f)}},f?"collapse":"expand"),r.a.createElement("br",null),r.a.createElement("h1",{className:"dinosaur-name"},n.toUpperCase()),r.a.createElement("main",null,r.a.createElement("section",{className:"container-dino-fact"},r.a.createElement("img",{className:"image-thumbnail",src:""!==c?c:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbOt6PL3YGoNIFjuPLbBS3FbBVUwjhUXbV2w&usqp=CAU",alt:n})),f?r.a.createElement("div",null,r.a.createElement("section",{className:"container-dino-fact"},r.a.createElement("p",null,r.a.createElement("strong",null,"Description:")," ",l),r.a.createElement("p",null,r.a.createElement("strong",null,"Region:")," ",u),r.a.createElement("p",null,r.a.createElement("strong",null,"Period:")," ",i),r.a.createElement("p",null,r.a.createElement("strong",null,"Diet:")," ",s))):null,f?r.a.createElement("div",null,r.a.createElement("section",{className:"container-dino-fact"},r.a.createElement("h3",null,"Facts:"),r.a.createElement("div",null,m),r.a.createElement("br",null),r.a.createElement("div",{className:j?"update-form":null},r.a.createElement("button",{onClick:function(){return O(!j)}},j?"Hide Editing Form":"Display Editing Form"),j?r.a.createElement(p,{dino:t,setDisplayEdit:O}):null))):null))};var v=function(e){var t=e.name,n=e.setName;return r.a.createElement("div",{className:"filter"},r.a.createElement("label",{htmlFor:"name",className:"name"},"Filter By Name"),r.a.createElement("input",{type:"text",className:"name",value:t,placeholder:"Enter name",onChange:function(e){return n(e.target.value)}}))};var j=function(e){var t=e.letter,n=e.setLetter,a=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map(function(e){return r.a.createElement("option",{key:e,value:e},e)});return r.a.createElement("div",{className:"filter"},r.a.createElement("label",{htmlFor:"letter",className:"letter"},"Filter By First Letter"),r.a.createElement("select",{className:"letter",value:t,onChange:function(e){return n(e.target.value)}},r.a.createElement("option",{value:""},"All"),a))};var O=function(e){var t=e.attribute,n=e.setAttribute,l=e.filter,c=Object(a.useContext)(u),o=c.regions,i=c.periods,s=("Regions"===l?o:i).map(function(e){return r.a.createElement("option",{key:e.id,value:e.name},e.name)});return r.a.createElement("div",{className:"filter"},r.a.createElement("label",{htmlFor:"attribute",className:"attribute"},"Filter By ",l),r.a.createElement("select",{className:"attribute",value:t,onChange:function(e){return n(e.target.value)}},r.a.createElement("option",{value:""},"All"),s))};var y=function(e){var t=e.dinosaurs,n=Object(a.useState)(""),l=Object(o.a)(n,2),c=l[0],u=l[1],i=Object(a.useState)(""),s=Object(o.a)(i,2),m=s[0],d=s[1],E=Object(a.useState)(""),f=Object(o.a)(E,2),p=f[0],b=f[1],g=Object(a.useState)(""),y=Object(o.a)(g,2),N=y[0],C=y[1],S=t.filter(function(e){return e.name.toLowerCase().includes(c.toLowerCase())}).filter(function(e){return e.name[0].toUpperCase().includes(m)}).filter(function(e){return e.region.includes(p)}).filter(function(e){return e.period.includes(N)}).map(function(e){return r.a.createElement(h,{key:e.id,dino:e})});return r.a.createElement("div",{className:"list"},r.a.createElement("h1",null,"Dinosaur Project"),r.a.createElement("h3",null,"Number of dinosaurs: ",t.length," || Displayed dinosaurs: ",S.length),r.a.createElement(v,{name:c,setName:u}),r.a.createElement(j,{letter:m,setLetter:d}),r.a.createElement(O,{name:p,setAttribute:b,filter:"Regions"}),r.a.createElement(O,{name:N,setAttribute:C,filter:"Periods"}),r.a.createElement("div",null,S))};var N=function(e){var t=e.onLogin,n=Object(a.useState)(""),l=Object(o.a)(n,2),c=l[0],u=l[1],i=Object(a.useState)(""),m=Object(o.a)(i,2),d=m[0],E=m[1],f=Object(a.useState)([]),p=Object(o.a)(f,2),b=p[0],g=p[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),j=v[0],O=v[1],y=Object(s.n)();return r.a.createElement("div",{className:"form"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:d})}).then(function(e){O(!1),e.ok?e.json().then(function(e){t(e),y("/")}):e.json().then(function(e){return g(e.errors)})})}},r.a.createElement("label",null,"username"),r.a.createElement("input",{type:"text",placeholder:"enter username",autoComplete:"off",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",null,"password"),r.a.createElement("input",{type:"password",placeholder:"enter password",autoComplete:"current-password",value:d,onChange:function(e){return E(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},j?"Loading...":"Login")),r.a.createElement("p",{className:"error"},b))};var C=function(e){var t=e.onLogin,n=Object(a.useState)(""),l=Object(o.a)(n,2),c=l[0],u=l[1],i=Object(a.useState)(""),m=Object(o.a)(i,2),d=m[0],E=m[1],f=Object(a.useState)(""),p=Object(o.a)(f,2),b=p[0],g=p[1],h=Object(a.useState)([]),v=Object(o.a)(h,2),j=v[0],O=v[1],y=Object(a.useState)(!1),N=Object(o.a)(y,2),C=N[0],S=N[1],k=Object(s.n)();return r.a.createElement("form",{className:"form",onSubmit:function(e){e.preventDefault(),O([]),S(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:d,password_confirmation:b})}).then(function(e){S(!1),e.ok?e.json().then(function(e){t(e),k("/")}):e.json().then(function(e){return O(e.error)})})}},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",placeholder:"username",autoComplete:"off",value:c,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",placeholder:"password",value:d,onChange:function(e){return E(e.target.value)},autoComplete:"current-password"}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"password"},"Password Confirmation"),r.a.createElement("input",{type:"password",placeholder:"password_confirmation",value:b,onChange:function(e){return g(e.target.value)},autoComplete:"current-password"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},C?"Loading...":"Sign Up"),r.a.createElement("p",{className:"error"},j))};var S=function(e){var t=e.onLogin,n=Object(a.useState)(!0),l=Object(o.a)(n,2),c=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement("h1",null,"Dinosaur Project"),r.a.createElement("h3",null,"Please Log In"),c?r.a.createElement("div",null,r.a.createElement(N,{onLogin:t}),r.a.createElement("br",null),r.a.createElement("p",{className:"login"},"Don't have an account? \xa0",r.a.createElement("button",{onClick:function(){return u(!1)}},"Sign Up"))):r.a.createElement("div",null,r.a.createElement(C,{onLogin:t}),r.a.createElement("br",null),r.a.createElement("p",{className:"login"},"Already have an account? \xa0",r.a.createElement("button",{onClick:function(){return u(!0)}},"Log In"))))};var k=function(){return r.a.createElement("div",{className:"home-page"},r.a.createElement("main",null,r.a.createElement("h1",null,"WELCOME TO THE DINOSAUR PROJECT"),r.a.createElement("h2",null,"There are plenty of dinosaurs that need you to update their profiles")),r.a.createElement("img",{src:"https://wallpaperaccess.com/full/1234923.jpg",alt:"dino background"}))},w=n(6);var _=function(){return r.a.createElement("div",{className:"navigation"},r.a.createElement(w.b,{to:"/",style:function(e){return{background:e.isActive?"red":""}},className:"navbar"},"Home Page"),r.a.createElement(w.b,{to:"/dinosaurs_",style:function(e){return{background:e.isActive?"red":""}},className:"navbar"},"Dinosaurs"),r.a.createElement(w.b,{to:"/information",style:function(e){return{background:e.isActive?"red":""}},className:"navbar"},"Information"),r.a.createElement(w.b,{to:"/logout",style:function(e){return{background:e.isActive?"red":""}},className:"navbar"},"Log out"))};var D=function(){var e=Object(a.useContext)(u),t=e.periods,n=e.regions,l=e.stats,c=l.total_dinosaurs,o=l.by_region,i=l.by_period,s=l.by_diet,m=n.map(function(e){return r.a.createElement("li",{key:e.id},e.name)}),d=t.map(function(e){return r.a.createElement("li",{key:e.id},e.name," period: ",e.description)});function E(e){return e.map(function(e){return r.a.createElement("li",{key:e.id},e.name,": numbers: ",e.numbers," // percentage: ",e.percentage,"%")})}return r.a.createElement("div",{className:"information"},r.a.createElement("div",{className:"info"},r.a.createElement("h3",null,"Dinosaurs once inhabited these regions: "),r.a.createElement("ul",null,m),r.a.createElement("h3",null,"Dinosaurs once lived during these 3 major time periods: "),r.a.createElement("ul",null,d),r.a.createElement("h3",null,"Up to date status"),r.a.createElement("ul",null,r.a.createElement("li",null,"Total number updated: ",l.needs_updating.updated," // Percentage updated: ",l.needs_updating.percentage_updated,"%"),r.a.createElement("li",null,"Total number awaiting updates: ",l.needs_updating.number_to_update," // Percentage needing updating: ",l.needs_updating.percentage_to_update,"%"))),r.a.createElement("div",{className:"info"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/7f/Rotating_earth_animated_transparent.gif",alt:"the world"})),r.a.createElement("div",{className:"info"},r.a.createElement("h2",null,"Your statistics"),r.a.createElement("h3",null,"Total number of dinosaurs: ",c),r.a.createElement("h4",null,"Regions"),r.a.createElement("ul",null,E(o)),r.a.createElement("h4",null,"Periods"),r.a.createElement("ul",null,E(i)),r.a.createElement("h4",null,"Dietary Habits"),r.a.createElement("ul",null,E(s))))};var F=function(){var e=Object(a.useContext)(u),t=e.user,n=e.setUser,l=Object(a.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1];return console.log(t),r.a.createElement("div",{className:"list"},r.a.createElement("h1",null,t.username," do you want to Log Out ?"),r.a.createElement("button",{onClick:function(){return s(!i)}},"Click Here"),i?r.a.createElement("div",null,r.a.createElement("h1",null,"Are you sure?"),r.a.createElement("button",{onClick:function(){return fetch("/logout",{method:"DELETE"}),void n(null)}},"Yes"),r.a.createElement("button",{onClick:function(){return s(!i)}},"No")):null)};var L=function(){var e=Object(a.useContext)(u),t=e.user,n=e.setUser,l=e.dinosaurs;return t?r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:r.a.createElement(k,null)}),r.a.createElement(s.a,{path:"/dinosaurs_",element:r.a.createElement(y,{dinosaurs:l})}),r.a.createElement(s.a,{path:"/information",element:r.a.createElement(D,null)}),r.a.createElement(s.a,{path:"/logout",element:r.a.createElement(F,null)}))):r.a.createElement(S,{onLogin:n})};var P=function(){return r.a.createElement(i,null,r.a.createElement(L,null))},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(w.a,null,r.a.createElement(P,null))),T()}},[[20,1,2]]]);
//# sourceMappingURL=main.23fd8b31.chunk.js.map